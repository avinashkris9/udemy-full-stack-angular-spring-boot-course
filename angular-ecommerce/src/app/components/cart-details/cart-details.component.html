<div class="main-content">

    <div class="section-content section-content-p30">
        <div class="container-fluid">

        <div *ngIf="cartItems.length >0 else emptyCart">

     
    <table class="table table-bordered">




        <thead>
            <tr>
                <th width="20%"> Product Image</th>
                <th width="50%"> Product Detail</th>
                <th width="30%"> </th>
            </tr>
        </thead>
    
        <tbody>
                <tr *ngFor =" let cartItem of cartItems">
                    <td>  <img src="{{cartItem.imageUrl}}" alt="product Image Not Available" class="img-responsive detail-img" width="150px"></td>
                    <td>
                        
                           <p> {{cartItem.name}}</p>
                           <p> {{cartItem.unitPrice | currency: 'USD'}}</p>
                           <p>{{cartItem.id}}</p>
                         </td>
                    <td> 
                        <div class="items">

                            <label> Quantity:</label> 
                                <div class="row no-gutters">
                                    <div class="col">

                                        <button (click) ="incrementQuantity(cartItem)" class="btn btn-primary btn-sm">

                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </div>
                                    <div class="col ml-4 mr-2">

                                        {{cartItem.quantity}}
                                    </div>

                                    <div class="col">

                                        <button  (click) ="decrementQuantity(cartItem)" class="btn btn-primary btn-sm">

                                            <i class="fas fa-minus"></i>
                                        </button>
                                    </div>
                                    <div class="col-8"> </div>
                                </div>
                        </div>
                        <button (click)="removeFromCart(cartItem)" class="btn btn-primary btn-sm mt-2">
                            Remove
                        </button>
                            <p class="mt-2"> SubTotal:</p> {{cartItem.quantity * cartItem.unitPrice | currency: 'USD'}}

                        </td>
                </tr>
                <tr>
                    <td colspan="2"> Total Quantity  </td>
                    <td style="font-weight: bold;"> 
                        <p>Total Quantity: {{totalQuantity}} </p>
                    <p>
                            Total Price: {{totalPrice }}

                    </p>
                    <a routerLink="/checkout" class="btn btn-primary"> Checkout</a>
                </td>
                </tr>

        </tbody>
        </table>
    </div>
        
    <!-- ng-template is used to create else block  -->
    <ng-template #emptyCart> 
        
        <div class="alert alert-info col-md-12" role="alert">
            <h1> Your cart is empty !</h1>
          </div>


        </ng-template>
    </div>
</div>
</div>
